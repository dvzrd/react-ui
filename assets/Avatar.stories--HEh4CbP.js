import{a as l,j as I}from"./jsx-runtime-spUR36Au.js";import{r as t}from"./index-4g5l5LRQ.js";import{_ as $}from"./extends-dGVwEr9R.js";import{a as L,$ as E,b as y}from"./index-CfqwQvcg.js";import{$ as b}from"./index-TbyQP7nN.js";import{c as g}from"./index-0TwQKh-t.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-jmm5gWkb.js";import"./index-rKN9iO4X.js";const x="Avatar",[R,Q]=L(x),[k,w]=R(x),F=t.forwardRef((a,r)=>{const{__scopeAvatar:e,...o}=a,[c,s]=t.useState("idle");return t.createElement(k,{scope:e,imageLoadingStatus:c,onImageLoadingStatusChange:s},t.createElement(b.span,$({},o,{ref:r})))}),M="AvatarImage",V=t.forwardRef((a,r)=>{const{__scopeAvatar:e,src:o,onLoadingStatusChange:c=()=>{},...s}=a,d=w(M,e),n=D(o),p=E(_=>{c(_),d.onImageLoadingStatusChange(_)});return y(()=>{n!=="idle"&&p(n)},[n,p]),n==="loaded"?t.createElement(b.img,$({},s,{ref:r,src:o})):null}),j="AvatarFallback",q=t.forwardRef((a,r)=>{const{__scopeAvatar:e,delayMs:o,...c}=a,s=w(j,e),[d,n]=t.useState(o===void 0);return t.useEffect(()=>{if(o!==void 0){const p=window.setTimeout(()=>n(!0),o);return()=>window.clearTimeout(p)}},[o]),d&&s.imageLoadingStatus!=="loaded"?t.createElement(b.span,$({},c,{ref:r})):null});function D(a){const[r,e]=t.useState("idle");return y(()=>{if(!a){e("error");return}let o=!0;const c=new window.Image,s=d=>()=>{o&&e(d)};return e("loading"),c.onload=s("loaded"),c.onerror=s("error"),c.src=a,()=>{o=!1}},[a]),r}const N=F,S=V,C=q,i=t.forwardRef(({className:a,...r},e)=>l(N,{ref:e,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r}));i.displayName=N.displayName;const u=t.forwardRef(({className:a,...r},e)=>l(S,{ref:e,className:g("aspect-square h-full w-full",a),...r}));u.displayName=S.displayName;const m=t.forwardRef(({className:a,...r},e)=>l(C,{ref:e,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r}));m.displayName=C.displayName;try{i.displayName="Avatar",i.__docgenInfo={description:"",displayName:"Avatar",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{u.displayName="AvatarImage",u.__docgenInfo={description:"",displayName:"AvatarImage",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{m.displayName="AvatarFallback",m.__docgenInfo={description:"",displayName:"AvatarFallback",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const U={title:"Components/Avatar",component:i,tags:["autodocs"]},f={args:{},render:()=>I(i,{children:[l(u,{src:"https://github.com/withpulp.png",alt:"@withpulp"}),l(m,{children:"DV"})]})};var v,A,h;f.parameters={...f.parameters,docs:{...(v=f.parameters)==null?void 0:v.docs,source:{originalSource:`{
  args: {},
  render: () => <Avatar>
      <AvatarImage src="https://github.com/withpulp.png" alt="@withpulp" />
      <AvatarFallback>DV</AvatarFallback>
    </Avatar>
}`,...(h=(A=f.parameters)==null?void 0:A.docs)==null?void 0:h.source}}};const W=["Default"];export{f as Default,W as __namedExportsOrder,U as default};
